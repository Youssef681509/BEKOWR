{% block title %}{% endblock %}

{% block page_title %}    
{% endblock %}

{% block body %}
<div{{ attributes }}>
    {{ form_start(form) }}
    <div class="row">
        <div class="col-5">{{ form_row(form.lastName) }}</div>
        <div class="col-5">{{ form_row(form.firstName) }}</div>
        <div class="col-2">
            <div class="form-check form-switch">
                {{ form_label(form.enable, {attr: {class: 'form-check-label'}}) }}
                {{ form_row(form.enable, {attr: {class: 'form-check-input', role: 'switch'}}) }}
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">{{ form_row(form.status) }}</div>
    </div>
    <div class="row">
        <div class="col-3">{{ form_row(form.civility) }}</div>
        <div class="col-3">{{ form_row(form.dateOfBirth) }}</div>
        <div class="col-6">{{ form_row(form.placeOfBirth) }}</div>
    </div>
    <div class="row">
        <div class="col-3">{{ form_row(form.titleOfIdDoc) }}</div>
        <div class="col-5">{{ form_row(form.idNumber) }}</div>
        <div class="col-4">{{ form_row(form.elecIdDoc) }}</div>
    </div>
    <div class="row" id="naturePieceIdentiteRow" style="display: none;">
        <div class="col-5">{{ form_row(form.naturePieceIdentite) }}</div>
    </div>
    <div class="row">
        <div class="col-9">{{ form_row(form.mail) }}</div>
        <div class="col-3">{{ form_row(form.fax) }}</div>
    </div>
    <div class="row">
        <div class="col-6">{{ form_row(form.address) }}</div>
        <div class="col-3">{{ form_row(form.country) }}</div>
        {% if form.city is defined %}
            <div class="col">{{ form_row(form.city) }}</div>    
        {% endif %}
    </div>
    <div class="row">
        <div class="col-4">{{ form_row(form.phone1) }}</div>
        <div class="col-4">{{ form_row(form.phone2) }}</div>
        <div class="col-4">{{ form_row(form.phone3) }}</div>
    </div>
    <div class="row">
        <div class="col-4">{{ form_row(form.donSrvStrDate) }}</div>
        <div class="col-4">{{ form_row(form.cardType) }}</div>
        <div class="col-4">{{ form_row(form.rib) }}</div>
    </div>
    <div class="row">
        <div class="col">{{ form_row(form.category) }}</div>
        <div class="col">{{ form_row(form.type) }}</div>
        <div class="col">{{ form_row(form.location) }}</div>
    </div>
   
    <div class="row">
        {{ form_row(form.obs) }}
    </div>
    {{ form_widget(form) }}
    <button type="submit" class="btn btn-primary">
        <i class="bi bi-sd-card"></i>
        Enregistrer
    </button>
    <a href="{{ path('app_beneficiary_index') }}" class="btn btn-light">
        <i class="bi bi-arrow-left"></i>
        Retour
    </a>
    {{ form_end(form) }}
</div>
<!-- Script pour affichage conditionnel de nature pièce d'identité -->
<script>
document.addEventListener('DOMContentLoaded', function () {
    var titleOfIdDoc = document.getElementById('{{ form.titleOfIdDoc.vars.id }}');
    var naturePieceIdentiteRow = document.getElementById('naturePieceIdentiteRow');

    function toggleNaturePieceIdentite() {
        if (titleOfIdDoc.value === 'OT') {
            naturePieceIdentiteRow.style.display = 'block';
        } else {
            naturePieceIdentiteRow.style.display = 'none';
        }
    }

    titleOfIdDoc.addEventListener('change', toggleNaturePieceIdentite);
    toggleNaturePieceIdentite(); // Initial check
});
</script>
<!-- Fin Script pour affichage conditionnel de nature pièce d'identité -->
{% endblock %}