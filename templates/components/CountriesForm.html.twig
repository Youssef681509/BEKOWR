<div{{ attributes }}>
    {{ form_start(form) }}
        <div class="row">
            <div class="col">{{ form_row(form.code) }}</div>
            <div class="col">{{ form_row(form.name) }}</div>
        </div>
        <div class="row table-responsive bg-ligth mb-3">
            <div class="col">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Nom</th>
                            <th>longitude</th>
                            <th>latitude</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                    {% for key, itemForm in form.cities %}
                        <tr class="pb-5" data-index="{{ key }}">
                            <td>
                                {{ form_row(itemForm.name, {
                                    attr: {class: 'mt-3'},
                                    label: false,
                                }) }}
                            </td>
                            <td>
                                {{ form_row(itemForm.latitude, {
                                    attr: {class: 'mt-3'},
                                    label: false,
                                }) }}
                            </td>
                            <td>
                                {{ form_row(itemForm.longitude, {
                                    attr: {class: 'mt-3'},
                                    label: false,
                                }) }}
                            </td>
                            <td>
                                 <button
                                    class="mt-3"
                                    data-action="live#action"
                                    data-live-action-param="removeCity"
                                    data-live-index-param="{{ key }}"
                                    type="button"
                                >X</button>
                                {# {{ form_row(itemForm.vars.button_delete, { label: 'X', attr: { class: 'btn btn-danger mb- mt-3' } }) }} #}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                {# avoid an extra label for this field #}
                {% do form.cities.setRendered %}
                <div class="mt-1 mb-1">
                     <button
                        data-action="live#action"
                        data-live-action-param="addCity"
                        type="button"
                    >
                        + Add Comment
                    </button>
                    {# {{ form_widget(form.cities.vars.button_add, { label: '+ Ajouter une ligne', attr: { class: 'btn btn-link btn-sm' } }) }} #}
                </div>
            </div>
        </div>
        {{ form_widget(form) }}
        <button type="submit" class="btn btn-primary">
            <i class="bi bi-sd-card"></i>
            Enregistrer
        </button>
        <a href="{{ path('app_donation_countries_index') }}" class="btn btn-light">
            <i class="bi bi-arrow-left"></i>
            Retour
        </a>
    {{ form_end(form) }}
</div>
